{"version":3,"sources":["reducers/userReducer.js","reducers/usersReducer.js","reducers/errorReducer.js","reducers/rootReducer.js","components/Field.js","components/Avatar.js","views/UserDetail.js","hooks/useUsersFetch.js","views/UserList.js","App.js","components/ErrorModal.js","index.js"],"names":["initState","userReducer","state","action","type","payload","usersReducer","ids","Set","map","e","id","concat","filter","el","has","rootReducer","combineReducers","user","users","error","errorReducer","loadingBar","loadingBarReducer","Field","children","label","loading","className","Avatar","src","small","avatar","UserDetail","dispatch","useDispatch","match","useRouteMatch","history","useHistory","location","useLocation","useState","setLoading","useSelector","useEffect","showLoading","axios","get","params","username","then","res","data","hideLoading","catch","err","convertedDate","Date","created_at","toLocaleDateString","onClick","push","style","display","avatar_url","login","name","followers","following","company","email","blog","bio","useUsersFetch","pageNumber","per_page","since","UserList","setPageNumber","observer","useRef","item","document","querySelector","scrollIntoView","behavior","block","inline","classList","add","setTimeout","remove","lastUserRef","useCallback","node","current","disconnect","IntersectionObserver","entries","isIntersecting","prevPageNumber","observe","index","ref","length","find","x","hint","to","pathname","html_url","target","stopPropagation","App","path","ErrorModal","store","createStore","applyMiddleware","thunk","loadingBarMiddleware","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a4bd90a4.chunk.js","sourcesContent":["const initState = {};\r\nconst userReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case \"GET_USER_DETAIL\":\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default userReducer;\r\n","const initState = [];\r\nconst usersReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case \"GET_USER_LIST\":\r\n      let ids = new Set(state.map((e) => e.id));\r\n      return state.concat(action.payload.filter((el) => !ids.has(el.id)));\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default usersReducer;\r\n","const initState = null;\r\nconst userReducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case \"SHOW_ERROR\":\r\n      return action.payload;\r\n    case \"HIDE_ERROR\":\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default userReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport userReducer from \"./userReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\nimport { loadingBarReducer } from \"react-redux-loading-bar\";\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  users: usersReducer,\r\n  error: errorReducer,\r\n  loadingBar: loadingBarReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import React from \"react\";\r\n\r\nexport default function Field({ children, label, loading }) {\r\n  return (\r\n    <div className=\"field\">\r\n      {label && <div className=\"field_key\">{label}: </div>}\r\n      <div className=\"field_value\">\r\n        {children ? (\r\n          children\r\n        ) : loading ? (\r\n          <div className=\"field_skeleton\"></div>\r\n        ) : (\r\n          children\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Avatar({ loading, src, small }) {\r\n  const avatar = (\r\n    <img src={src} className={`${small ? \"avatar__small\" : \"avatar__big\"}`} />\r\n  );\r\n  return src ? (\r\n    avatar\r\n  ) : loading ? (\r\n    <div className=\"avatar_skeleton\"></div>\r\n  ) : (\r\n    avatar\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory, useRouteMatch, useLocation } from \"react-router-dom\";\r\nimport { showLoading, hideLoading } from \"react-redux-loading-bar\";\r\nimport Field from \"../components/Field\";\r\nimport Avatar from \"../components/Avatar\";\r\n\r\nconst UserDetail = () => {\r\n  const dispatch = useDispatch();\r\n  const match = useRouteMatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [loading, setLoading] = useState(true);\r\n  const { user } = useSelector((state) => state);\r\n\r\n  const getData = () => {\r\n    return (dispatch) => {\r\n      dispatch(showLoading());\r\n      axios\r\n        .get(`https://api.github.com/users/${match.params.username}`)\r\n        .then((res) => {\r\n          dispatch({\r\n            type: \"GET_USER_DETAIL\",\r\n            payload: res.data,\r\n          });\r\n          setLoading(false);\r\n          dispatch(hideLoading());\r\n        })\r\n        .catch((err) => {\r\n          dispatch({\r\n            type: \"SHOW_ERROR\",\r\n            payload: \"Error fetching detail info\",\r\n          });\r\n          dispatch(hideLoading());\r\n        });\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getData());\r\n  }, []);\r\n\r\n  const backToList = () => {\r\n    history.push(\"/\", location.state);\r\n  };\r\n  let convertedDate = new Date(user.created_at);\r\n  convertedDate = convertedDate.toLocaleDateString();\r\n  return (\r\n    <div className=\"user-wr\">\r\n      <button className=\"btn\" onClick={backToList} style={{ display: \"block\" }}>\r\n        back\r\n      </button>\r\n      <div className=\"user_avatar-wr\">\r\n        <Avatar loading={loading} src={user.avatar_url} />\r\n      </div>\r\n      <Field label=\"Login\" loading={loading}>\r\n        {user.login}\r\n      </Field>\r\n      <Field label=\"Name\" loading={loading}>\r\n        {user.name}\r\n      </Field>\r\n      <Field label=\"Created_at\" loading={loading}>\r\n        {convertedDate}\r\n      </Field>\r\n      <Field label=\"Followers\" loading={loading}>\r\n        {user.followers}\r\n      </Field>\r\n      <Field label=\"Following\" loading={loading}>\r\n        {user.following}\r\n      </Field>\r\n      <Field label=\"Company\" loading={loading}>\r\n        {user.company}\r\n      </Field>\r\n      <Field label=\"Email\" loading={loading}>\r\n        {user.email}\r\n      </Field>\r\n      <Field label=\"Location\" loading={loading}>\r\n        {user.location}\r\n      </Field>\r\n      <Field label=\"Blog\" loading={loading}>\r\n        {user.blog}\r\n      </Field>\r\n      <Field label=\"Bio\" loading={loading}>\r\n        {user.bio}\r\n      </Field>\r\n    </div>\r\n  );\r\n};\r\nexport default UserDetail;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { showLoading, hideLoading } from \"react-redux-loading-bar\";\r\nimport axios from \"axios\";\r\n\r\nconst useUsersFetch = (pageNumber) => {\r\n  const perPage = 30;\r\n  const [loading, setLoading] = useState(true);\r\n  const dispatch = useDispatch();\r\n  const getData = () => {\r\n    return (dispatch) => {\r\n      dispatch(showLoading());\r\n      axios\r\n        .get(\"https://api.github.com/users\", {\r\n          params: {\r\n            per_page: perPage,\r\n            since: pageNumber * perPage,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          dispatch({\r\n            type: \"GET_USER_LIST\",\r\n            payload: res.data,\r\n          });\r\n          setLoading(false);\r\n          dispatch(hideLoading());\r\n        })\r\n        .catch((err) => {\r\n          dispatch({\r\n            type: \"SHOW_ERROR\",\r\n            payload: \"Error fetching user list\",\r\n          });\r\n          dispatch(hideLoading());\r\n        });\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    dispatch(getData());\r\n  }, [pageNumber]);\r\n  return { loading };\r\n};\r\nexport default useUsersFetch;\r\n","import React, { useState, useEffect, useRef, useCallback } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport useUsersFetch from \"../hooks/useUsersFetch\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Avatar from \"../components/Avatar\";\r\n\r\nconst UserList = () => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [pageNumber, setPageNumber] = useState(0);\r\n  const { loading } = useUsersFetch(pageNumber);\r\n  const { users } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const observer = useRef();\r\n  useEffect(() => {  // Scroll to selected user row\r\n    const item = document.querySelector(\".user-\" + location.state);\r\n    if (item) {\r\n      item.scrollIntoView({\r\n        behavior: \"auto\",\r\n        block: \"center\",\r\n        inline: \"center\",\r\n      });\r\n      item.classList.add(\"visited\");\r\n      setTimeout(() => item.classList.remove(\"visited\"), 2000);\r\n    }\r\n  }, []);\r\n\r\n  const lastUserRef = useCallback((node) => {   // Infinite scrolling\r\n    if (loading) return;\r\n    if (observer.current) {\r\n      observer.current.disconnect();\r\n    }\r\n    observer.current = new IntersectionObserver((entries) => {\r\n      if (entries[0].isIntersecting) {\r\n        setPageNumber((prevPageNumber) => prevPageNumber + 1);\r\n      }\r\n    });\r\n    if (node) {\r\n      observer.current.observe(node);\r\n    }\r\n  });\r\n\r\n  const openUserDetail = (id, login) => {\r\n    dispatch({\r\n      type: \"GET_USER_DETAIL\",\r\n      payload: users.find((x) => x.id === id),\r\n    });\r\n\r\n    history.push(`/user/${login}`, id); // passing id via location to scroll back\r\n  };\r\n  return (\r\n    <table className=\"user-table\">\r\n      <thead>\r\n        <tr>\r\n          <th>Login</th>\r\n          <th>URL</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {users &&\r\n          users.map((el, index) => {\r\n            return (\r\n              <tr\r\n                key={el.id}\r\n                ref={users.length === index + 1 ? lastUserRef : null} \r\n                onClick={() => openUserDetail(el.id, el.login)}\r\n                className={`user-${el.id}`}\r\n              >\r\n                <td>{el.login}</td>\r\n                <td>\r\n                  <Link\r\n                    hint=\"Enter\"\r\n                    to={{ pathname: el.html_url }}\r\n                    target=\"_blank\"\r\n                    onClick={(e) => e.stopPropagation()}\r\n                    className=\"user-url\"\r\n                  >\r\n                    {el.html_url}\r\n                  </Link>\r\n                </td>\r\n                <td>\r\n                  <Avatar src={el.avatar_url} small />\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\nexport default UserList;\r\n","import React from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n} from \"react-router-dom\";\r\n\r\nimport UserDetail from './views/UserDetail';\r\nimport UserList from './views/UserList';\r\nimport './styles/app.css';\r\nimport './styles/user.css';\r\n\r\n\r\nconst App = () => {\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route path=\"/user/:username\">\r\n                    <UserDetail />\r\n                </Route>\r\n                <Route path=\"/\">\r\n                    <UserList />\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default App  ","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nexport default function ErrorModal() {\r\n  const { error } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const closeError = () => {\r\n    dispatch({\r\n      type: \"HIDE_ERROR\",\r\n    });\r\n  };\r\n  if (!error) return null;\r\n  return (\r\n    <div className=\"error-modal\">\r\n      <div onClick={closeError} className=\"close-btn\"></div>\r\n      {error}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport thunk from 'redux-thunk'\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport rootReducer from './reducers/rootReducer';\r\nimport App from './App';\r\nimport LoadingBar from 'react-redux-loading-bar'\r\nimport { loadingBarMiddleware } from 'react-redux-loading-bar'\r\nimport ErrorModal from './components/ErrorModal';\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk, loadingBarMiddleware()))\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <LoadingBar className=\"loader\"/>\r\n        <ErrorModal/>\r\n        <App />\r\n    </Provider>,\r\ndocument.getElementById('root'));"],"sourceRoot":""}